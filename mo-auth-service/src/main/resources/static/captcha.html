<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta charset="UTF-8">
    <title>图片验证码</title>
    <script src="js/jquery-1.11.3.js"></script>
    <script src="http://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js"></script>
</head>
<body>
<h3>测试图片验证码</h3>
<img id="captchaImg" width="150" height="50"/>

<h3>微信三方登录</h3>
<div id="weixin"></div>

<script>
    var captchaKey;
    //使用Ajax调用接口获取图片验证码
    $.get("/captcha/image", function (data) {
        captchaKey = data.data.key
        console.log(captchaKey)

        $('#captchaImg').attr('src', data.data.image)
    }, 'json')

    var obj = new WxLogin({
        self_redirect:true,
        id:"weixin",
        appid: "wx3bdb1192c22883f3",
        scope: "snsapi_login",
        redirect_uri: "http://note.java.itcast.cn/wxLogin.html"
    });
</script>
</body>
</html>